{{ define "symbolDetails" }}
<div class="symbol-details flex-grow-1 w-100" data-symbol-details="1" data-default-res="{{.DefaultRes}}" data-symbol="{{.Symbol}}">
  <div class="container-fluid">
    <div class="row g-3">
      <!-- LEFT: chart -->
      <div class="col-12 col-lg-8">
        <div class="card details-card text-light">
          <div class="card-body">
            <div class="d-flex align-items-center justify-content-between mb-2">
              <h2 class="m-0">{{.Symbol}}</h2>

              <div class="d-flex align-items-center gap-2">
                <span>Interval:</span>
                <select id="res" class="form-select form-select-sm" style="width: 90px;">
                  <option value="1">1m</option>
                  <option value="5" selected>5m</option>
                  <option value="15">15m</option>
                  <option value="30">30m</option>
                  <option value="60">1h</option>
                </select>
              </div>
            </div>

            <div id="chart"></div>
          </div>
        </div>
      </div>

      <!-- RIGHT: sidebar -->
      <div class="col-12 col-lg-4">
        <div class="card details-card text-light mb-3">
          <div class="card-body">
            <h5 class="card-title">Price alert</h5>

            <label class="form-label">Target price</label>
            <input id="alertPrice" class="form-control form-control-sm" type="number" step="0.01">

            <label class="form-label mt-2">Condition</label>
            <select id="alertCondition" class="form-select form-select-sm">
              <option value="above">Above</option>
              <option value="below">Below</option>
            </select>

            <button class="btn btn-primary btn-sm mt-3 w-100"
                    hx-post="/alerts/{{.Symbol}}"
                    hx-include="#alertPrice,#alertCondition"
                    hx-target="#alertsMsg"
                    hx-swap="innerHTML">
              Create alert
            </button>

            <div id="alertsMsg" class="mt-2 small"></div>
          </div>
        </div>

        <div class="card details-card text-light">
          <div class="card-body">
            <h5 class="card-title">Buy</h5>

            <label class="form-label">Quantity</label>
            <input id="qty" class="form-control form-control-sm" type="number" min="1" step="1" value="1">

            <button class="btn btn-success btn-sm mt-3 w-100"
                    hx-post="/orders/buy/{{.Symbol}}"
                    hx-include="#qty"
                    hx-target="#buyMsg"
                    hx-swap="innerHTML">
              Buy {{.Symbol}}
            </button>

            <div id="buyMsg" class="mt-2 small"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{{ end }}
